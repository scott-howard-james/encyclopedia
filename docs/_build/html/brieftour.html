

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Overview &mdash; Encyclopedia .25 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="Encyclopedia .25 documentation" href="index.html"/>
        <link rel="next" title="Abstract Encyclopedias" href="api.html"/>
        <link rel="prev" title="Encyclopedia" href="index.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Encyclopedia
          

          
          </a>

          
            
            
              <div class="version">
                .25
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">A Brief Tour</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#what-is-it">What Is It?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#but-what-is-it-really">But What Is It Really …</a></li>
<li class="toctree-l2"><a class="reference internal" href="#say-that-differently">Say that Differently</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#ok-but-what-is-it-good-for">Ok, But What is it Good For?</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#relation">Relation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#forest">Forest</a></li>
<li class="toctree-l2"><a class="reference internal" href="#dictionary">Dictionary</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#encyclopedia-operations">Encyclopedia Operations</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#signed-encyclopedia">Signed Encyclopedia</a></li>
<li class="toctree-l2"><a class="reference internal" href="#indexed-encyclopedia">Indexed Encyclopedia</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#past-present-and-future">Past, Present and Future</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#past">Past</a></li>
<li class="toctree-l2"><a class="reference internal" href="#present">Present</a></li>
<li class="toctree-l2"><a class="reference internal" href="#future">Future</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">API Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="api.html">Abstract Encyclopedias</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html#concrete-encyclopedias">Concrete Encyclopedias</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Encyclopedia</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Overview</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/brieftour.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="overview">
<h1>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h1>
<div class="section" id="what-is-it">
<h2>What Is It?<a class="headerlink" href="#what-is-it" title="Permalink to this headline">¶</a></h2>
<p>An Encyclopedia is an abstract container intended for smallish data sets
which provides many of the benefits of a relational (and non-relational)
database, but with lower syntactic friction. In particular, an
Encyclopedia uses arithmetic expressions typical of first-class objects
(e.g.&nbsp;lists, dictionaries) to perform common dataset operations such as
merging and subsetting. Encyclopedia supports functional composition,
enabling modifications to entire Encyclopedias in a single statement,
similar to data frame vectorization.</p>
</div>
<div class="section" id="but-what-is-it-really">
<h2>But What Is It Really …<a class="headerlink" href="#but-what-is-it-really" title="Permalink to this headline">¶</a></h2>
<p>An <strong>Encyclopedia</strong> is a
<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#typesmapping">mapping</a>
class supporting the following additional features:</p>
<dl class="docutils">
<dt>set operations</dt>
<dd>Encyclopedias may be created and combined using standard arithmetic
operators</dd>
<dt>functional composition</dt>
<dd>Encyclopedia contents may be modified in their entirety by
functions, as well as other Encyclopedias</dd>
</dl>
<p>and the following optional features:</p>
<dl class="docutils">
<dt>multi-valued assignments</dt>
<dd>keys may be <em>assigned</em> single values or <em>tagged</em> with multiple
values</dd>
<dt>inversion</dt>
<dd>Encyclopedias may swap their key-value pairs</dd>
</dl>
</div>
<div class="section" id="say-that-differently">
<h2>Say that Differently<a class="headerlink" href="#say-that-differently" title="Permalink to this headline">¶</a></h2>
<p>In math-speak, a collection of Encyclopedias is a similar to a
mathematical
<a class="reference external" href="https://en.wikipedia.org/wiki/Ring_%28mathematics%29">ring</a> of
<a class="reference external" href="http://www.purplemath.com/modules/fcns.htm">relations</a> where:</p>
<ul class="simple">
<li>keys serve as the <em>domain</em></li>
<li>values serve as the <em>range</em></li>
<li>ring <em>addition</em> is performed by set union on these relations</li>
<li><em>additive inverse</em> is performed by set difference on these relations</li>
<li><em>multiplication</em> is performed by functional composition</li>
</ul>
<p>So to say this yet another way, an Encyclopedia is a collection of
key-value pairs which may be combined with other Encyclopedias using set
operations and functional operators.</p>
</div>
</div>
<div class="section" id="ok-but-what-is-it-good-for">
<h1>Ok, But What is it Good For?<a class="headerlink" href="#ok-but-what-is-it-good-for" title="Permalink to this headline">¶</a></h1>
<p>Data analysts have an <a class="reference external" href="https://en.wikipedia.org/wiki/Embarrassment_of_riches">embarrassment of
riches</a> when
it comes to manipulating their data. We have multiple computational
elements sitting on our laptop and have immediate access to nearly
unlimited computational elements in The Cloud. We have various
topologies to help access and store our data including: tabular
(e.g.&nbsp;HDF5), relational (e.g.&nbsp;SQL) and non-relational (e.g.&nbsp;NoSQL). We
have data-analyst-friendly languages (e.g.&nbsp;python, R) with increasingly
sophisticated libraries (e.g. <a class="reference external" href="https://www.scipy.org">SciPy</a>,
<a class="reference external" href="https://www.tidyverse.org">tidyverse</a>) to make it all fit together.</p>
<p>On the more modest end of the data deluge resides the localized data:
the tabular CSV reports, the hierarchical XML data elements and the
binary, human-friendly tag clouds. The Encyclopedia syntax is intended
to be used in this realm, providing a common syntax for the “smaller”
data elements, providing a bridge between the scripting container
elements (e.g.&nbsp;lists, dictionaries) and the larger data ocean.</p>
<p>As an abstract class, Encyclopedia has limited value on its own. Two
<em>concrete</em> Encyclopedias however, are
<a class="reference external" href="https://simple.wikipedia.org/wiki/Relation_(mathematics)">Relations</a>
and <a class="reference external" href="https://en.wikipedia.org/wiki/Tree_(graph_theory)">Forests</a>,
which were the motivators for the creation of the Encyclopedia
abstraction.</p>
<div class="section" id="relation">
<h2>Relation<a class="headerlink" href="#relation" title="Permalink to this headline">¶</a></h2>
<p>A
<a class="reference external" href="https://simple.wikipedia.org/wiki/Relation_(mathematics)">Relation</a>
is an Indexed Encyclopedia which may be thought of as a multi-valued
extension of a python
<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#typesmapping">dictionary</a>
or function.</p>
<div class="figure" id="id9">
<img alt="Function vs.&nbsp;Relation" src="http://www.mathwarehouse.com/algebra/relation/images2/function-vs-relation-with-arrow-chart.png" />
<p class="caption"><span class="caption-text">Function vs.&nbsp;Relation</span></p>
</div>
<p>In addition to the many-to-one behavior of a Dictionary, a Relation
supports all four
<a class="reference external" href="https://en.wikipedia.org/wiki/Cardinality_(data_modeling)">cardinalities</a>:</p>
<dl class="docutils">
<dt>M:1 (many-to-one)</dt>
<dd>a function or dictionary</dd>
<dt>1:1 (one-to-one)</dt>
<dd>an isomorphism or unique alias</dd>
<dt>1:M (one-to-many)</dt>
<dd>a partition</dd>
<dt>M:M (many-to-many)</dt>
<dd>a general relation</dd>
</dl>
<p>A Relation instance is restricted to one of the cardinalities upon
object instantiation. Relations are invertible  <a class="footnote-reference" href="#id5" id="id1">[1]</a>, providing direct
mappings from values back to keys. The following operators are
supported:</p>
<table border="1" class="docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Notation</th>
<th class="head">Meaning</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>R[x] = y</td>
<td>either overwrite or append to <em>x</em>
values depending on cardinality
of the Relation (Note: M:1 and
1:1 overwrite, the other two
append)</td>
</tr>
<tr class="row-odd"><td>del R[x]</td>
<td>remove <em>x</em> from domain of <em>E</em> and
all associated values for <em>x</em></td>
</tr>
<tr class="row-even"><td>R1 + R2</td>
<td>similar to <code class="docutils literal"><span class="pre">{**E1,</span> <span class="pre">**E2}</span></code> for
python dictionaries, but with
associated cardinality
constraints</td>
</tr>
<tr class="row-odd"><td>R1 - R2</td>
<td>remove any <em>R2</em>.keys that lie
within <em>R1</em>.keys and the
associated values</td>
</tr>
<tr class="row-even"><td>f * R</td>
<td>apply f to each element of R</td>
</tr>
<tr class="row-odd"><td>R1 * R2</td>
<td>apply R1 to each element of R2</td>
</tr>
<tr class="row-even"><td>~R</td>
<td>reverse domain and range of R</td>
</tr>
</tbody>
</table>
<p>Using notation similar to a python dictionary comprehension (but to be
clear not <em>actually</em> valid python), a functional composition might be
expressed as:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span><span class="n">R</span><span class="p">[</span><span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">)]:</span><span class="n">f</span><span class="p">(</span><span class="n">R</span><span class="p">[</span><span class="n">x</span><span class="p">])</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">R</span><span class="p">}</span>
</pre></div>
</div>
<p>A relational composition as:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span><span class="n">R1</span><span class="p">[</span><span class="n">x</span><span class="p">]:</span><span class="n">R1</span><span class="p">[</span><span class="n">R2</span><span class="p">[</span><span class="n">x</span><span class="p">])</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">R2</span><span class="p">}</span>
</pre></div>
</div>
<p>And an inversion as:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span><span class="n">R</span><span class="p">[</span><span class="n">x</span><span class="p">]:</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">R</span><span class="p">}</span>
</pre></div>
</div>
<p>As an example of the use of a relation, suppose we need to map
qualitative weather conditions to dates:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">weather</span> <span class="o">=</span> <span class="n">Relation</span><span class="p">()</span>
<span class="n">weather</span><span class="p">[</span><span class="s1">&#39;2011-7-23&#39;</span><span class="p">]</span><span class="o">=</span><span class="s1">&#39;high-wind&#39;</span>
<span class="n">weather</span><span class="p">[</span><span class="s1">&#39;2011-7-24&#39;</span><span class="p">]</span><span class="o">=</span><span class="s1">&#39;low-rain&#39;</span>
<span class="n">weather</span><span class="p">[</span><span class="s1">&#39;2011-7-25&#39;</span><span class="p">]</span><span class="o">=</span><span class="s1">&#39;low-rain&#39;</span>
<span class="n">weather</span><span class="p">[</span><span class="s1">&#39;2011-7-25&#39;</span><span class="p">]</span><span class="o">=</span><span class="s1">&#39;low-wind&#39;</span>
</pre></div>
</div>
<p>Note that in the last statement the assignment operator performs an
append not an overwrite. So:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">weather</span><span class="p">[</span><span class="s1">&#39;2014-7-25&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>produces a <em>set</em> of values:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s1">&#39;low-rain&#39;</span><span class="p">,</span><span class="s1">&#39;low-wind&#39;</span><span class="p">}</span>
</pre></div>
</div>
<p>Relation also provides an inverse:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">(</span><span class="o">~</span><span class="n">weather</span><span class="p">)[</span><span class="s1">&#39;low-rain&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>also producing a set of values:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s1">&#39;2014-7-25&#39;</span><span class="p">,</span><span class="s1">&#39;2014-7-24&#39;</span><span class="p">}</span>
</pre></div>
</div>
<p>See the <a class="reference external" href="https://github.com/scott-howard-james/relate/wiki/Rationale">paper from SciPy
2015</a>
for further exposition on Relation.</p>
</div>
<div class="section" id="forest">
<h2>Forest<a class="headerlink" href="#forest" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Tree_(graph_theory)">Forests</a> are
Unindexed Encyclopedias formed from collections of
<a class="reference external" href="https://en.wikipedia.org/wiki/Tree_(graph_theory)">trees</a>.</p>
<div class="figure" id="id10">
<img alt="Forest" src="https://qph.ec.quoracdn.net/main-qimg-708af2ed024c2fb8aa37cbac013573d7" />
<p class="caption"><span class="caption-text">Forest</span></p>
</div>
<p>Syntactically a tree, in our parlance, will grow “upwards”; thus the
greater heights of a tree will be closer to the “leaves”. Each <em>node</em> in
a tree connects upwards to a collection of distinct nodes; conversely
each node has at most a single, directly-connecting lower node. Forests
may be combined with other Forests using set operations (<em>horizontal
combination</em>), and be grown on top of other Forests using composition
(<em>vertical combination</em>).</p>
<p>Sub-branches of Forests are obtained through the bracket “get” notation:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">F</span><span class="p">[</span><span class="n">x</span><span class="p">]</span>
</pre></div>
</div>
<p>Note that the <em>keys</em> used in this bracket notation are different than
<em>nodes</em>. In particular, <em>nodes</em> within a Forest are unique; however,
<em>keys</em> may reference multiple nodes. Therefore, there is a many-to-one
relationship between keys and nodes; thus, the “get” returns <em>all</em>
sub-branches in F with a root node <em>keyed</em> by <em>x</em>.</p>
<p>To construct new branches, Forests use the “set” bracket notation. The
bracket notation of Forests allows for several nodes to be <em>referenced</em>
by a single key, specifically:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">F</span><span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="o">=</span> <span class="n">y</span>
</pre></div>
</div>
<p>means: create a new node, keyed by <em>y</em>, <em>for every</em> node that is keyed
by <em>x</em>.</p>
<p>Forests form the topological foundation of many common hierarchical
document formats e.g.&nbsp;XML, JSON, YAML etc… Non-unique keys enable us to
include repeated substructures. For instance, the get notation in
another context, namely when <em>y</em> is another forest:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">F1</span><span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="o">=</span> <span class="n">F2</span>
</pre></div>
</div>
<p>grafts the F2 Forest to <em>all</em> occurrences of <em>x</em> within F1. An example
of a related operation is a YAML alias. This grafting can also be
performed using composition notation:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">F1</span> <span class="o">*</span> <span class="n">F2</span>
</pre></div>
</div>
<p>which means: create a new Forest such when F1 and F2 share a key <em>x</em>,
the branches of F2[x] are grafted onto F1 at <em>x</em>. An example of a
related operation is when a library of sub-documents are instanced onto
a document when ready for final document production. The operations for
a Forest are as follows:</p>
<table border="1" class="docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Notation</th>
<th class="head">Meaning</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>F[x] = y</td>
<td>connect new nodes keyed by <em>y</em> to
nodes keyed by <em>x</em></td>
</tr>
<tr class="row-odd"><td>F[x]</td>
<td>a Forest consisting all nodes
reachable from <em>x</em></td>
</tr>
<tr class="row-even"><td>F[x] = F2</td>
<td>graft <em>F2</em> to <em>F1</em> at <em>x</em></td>
</tr>
<tr class="row-odd"><td>del F[x]</td>
<td>prune branches for all nodes
keyed by <em>x</em></td>
</tr>
<tr class="row-even"><td>F.keys()</td>
<td>return all node <em>keys</em> within
Forest</td>
</tr>
<tr class="row-odd"><td>F.values()</td>
<td>all <em>nodes</em> within Forest</td>
</tr>
<tr class="row-even"><td>F.canopy()</td>
<td>union of all leaf nodes in Forest</td>
</tr>
<tr class="row-odd"><td>F.root(x)</td>
<td>return node(s) of Tree root
containing <em>x</em></td>
</tr>
<tr class="row-even"><td>F1 + F2</td>
<td>combine two Forests such that
common Trees within both Forests
will only appear once (<em>union</em>)</td>
</tr>
<tr class="row-odd"><td>F1 - F2</td>
<td>remove Trees contained in <em>F2</em>
from <em>F1</em> (<em>difference</em>)</td>
</tr>
<tr class="row-even"><td>F1 * F2</td>
<td>for each <em>x</em> key common to <em>F1</em>
and <em>F2</em>: graft <em>F2</em> onto <em>F1</em> at
<em>x</em>.</td>
</tr>
<tr class="row-odd"><td>f * F</td>
<td>apply f to each node of F</td>
</tr>
</tbody>
</table>
<p>An extension of a Forest is an Arboretum: a Forest with inheritable node
attributes. Attributes are assigned using the second position in the
bracket assignment, namely:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">F</span><span class="p">[</span><span class="n">x</span><span class="p">,</span> <span class="n">attribute</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
</pre></div>
</div>
<p>This assigns the key-value pair <em>(attribute, value)</em> directly to <em>x</em> as
well as implicitly to the nodes above <em>x</em>. Retrieving attributes is
dynamic:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">F</span><span class="p">[</span><span class="n">x</span><span class="p">,</span> <span class="n">attribute</span><span class="p">]</span>
</pre></div>
</div>
<p>meaning, the tree is searched for an attribute starting at the node and
descending down the tree until a parent is found with the assignment. As
a motivating example, suppose we had a hierarchical document:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">F</span><span class="p">[</span><span class="s1">&#39;Document&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;Section 1&#39;</span>
<span class="n">F</span><span class="p">[</span><span class="s1">&#39;Section 1&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;Section 1.1&#39;</span>
</pre></div>
</div>
<p>Assigning the font</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">F</span><span class="p">[</span><span class="s1">&#39;Section 1&#39;</span><span class="p">,</span> <span class="s1">&#39;font&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;Helvetica&#39;</span>
</pre></div>
</div>
<p>will affect <em>Section 1</em> and <em>Section 1.1</em> but will not affect the
overall document. A new section created at the <em>Document</em> level</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">F</span><span class="p">[</span><span class="s1">&#39;Document&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;Section 2&#39;</span>
</pre></div>
</div>
<p>will be unaffected by the font assignment but further subsections below
<em>Section 1.1</em></p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">F</span><span class="p">[</span><span class="s1">&#39;Section 1.1&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;Section 1.1.1&#39;</span>
</pre></div>
</div>
<p>will have their default font set.</p>
</div>
<div class="section" id="dictionary">
<h2>Dictionary<a class="headerlink" href="#dictionary" title="Permalink to this headline">¶</a></h2>
<p>Another example of an Encyclopedia is simply a python dictionary which
has been Encyclopedia-ified. This new dictionary will behave much like
its derived <em>dict</em> but will also support arithmetic set operations and
composition. As an example of the composition feature, if:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">fruit</span> <span class="o">=</span> <span class="n">Dictionary</span><span class="p">({</span><span class="s1">&#39;apple&#39;</span><span class="p">:</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="s1">&#39;blueberry&#39;</span><span class="p">:</span><span class="s1">&#39;blue&#39;</span><span class="p">})</span>
<span class="n">colors</span> <span class="o">=</span> <span class="n">Dictionary</span><span class="p">({</span><span class="s1">&#39;red&#39;</span><span class="p">:</span><span class="s1">&#39;FF0000&#39;</span><span class="p">,</span> <span class="s1">&#39;blue&#39;</span><span class="p">:</span><span class="s1">&#39;0000FF&#39;</span><span class="p">,</span> <span class="s1">&#39;green&#39;</span><span class="p">:</span><span class="s1">&#39;00FF00&#39;</span><span class="p">})</span>
</pre></div>
</div>
<p>then</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">fruit</span> <span class="o">*</span> <span class="n">colors</span> <span class="o">==</span> <span class="n">Dictionary</span><span class="p">({</span><span class="s1">&#39;apple&#39;</span><span class="p">:</span> <span class="s1">&#39;FF0000&#39;</span><span class="p">,</span> <span class="s1">&#39;blueberry&#39;</span><span class="p">:</span> <span class="s1">&#39;0000FF&#39;</span><span class="p">})</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="encyclopedia-operations">
<h1>Encyclopedia Operations<a class="headerlink" href="#encyclopedia-operations" title="Permalink to this headline">¶</a></h1>
<p>It may be illustrative (at least for those of us who <em>like</em> looking at
summary tables) to now show an overview of operations for an
Encyclopedia:</p>
<table border="1" class="docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operation</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>E[x] = y</td>
<td>tag <em>x</em> with <em>y</em></td>
</tr>
<tr class="row-odd"><td>del E[x]</td>
<td>remove <em>x</em> from domain of <em>E</em> …
also known as
<a class="reference external" href="https://www.youtube.com/watch?v=R9n11xtjZ3Y">burglary</a>.
Yep, that was your obligatory
Monty Python reference (<em>additive
inverse</em>)</td>
</tr>
<tr class="row-even"><td>E1 + E2</td>
<td>an encyclopedia created by
combining elements of <em>E2</em> and
<em>E1</em> (<em>union</em>)</td>
</tr>
<tr class="row-odd"><td>E1 += E2</td>
<td>add copy of <em>E2</em> to <em>E1</em></td>
</tr>
<tr class="row-even"><td>E1 - E2</td>
<td>an encyclopedia created by
removing keys of <em>E2</em> from <em>E1</em>
(<em>difference</em>)</td>
</tr>
<tr class="row-odd"><td>E1 &amp; E2</td>
<td>an encyclopedia with keys common
to both <em>E1</em> and <em>E2</em>
(intersection)</td>
</tr>
<tr class="row-even"><td>f * E</td>
<td>apply <em>f</em> <a class="footnote-reference" href="#id6" id="id2">[2]</a> to all elements
of <em>E</em> returning another
encyclopedia. (<em>functional
composition</em>)</td>
</tr>
<tr class="row-odd"><td>E1 * E2</td>
<td>apply <em>E1</em> <a class="footnote-reference" href="#id7" id="id3">[3]</a> to elements of
<em>E2</em> producing another
encyclopedia (<em>entity
composition</em>)</td>
</tr>
</tbody>
</table>
<p>Certain implementations of Encyclopedia may be multi-valued, meaning
that, assignment:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">E</span><span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="o">=</span> <span class="n">y</span>
</pre></div>
</div>
<p>may not <em>overwrite</em> the key’s value, but instead <em>append</em> to the key
value or <em>tag</em> the key. Similarly, retrieval:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">E</span><span class="p">[</span><span class="n">x</span><span class="p">]</span>
</pre></div>
</div>
<p>may produce a set (or list) of values corresponding to the key.</p>
<p>For the math-letes, note that encyclopedia addition is inherently
commutative:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">E1</span><span class="o">+</span><span class="n">E2</span> <span class="o">==</span> <span class="n">E2</span><span class="o">+</span><span class="n">E1</span>
</pre></div>
</div>
<p>and associative:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">E1</span><span class="o">+</span><span class="p">(</span><span class="n">E2</span><span class="o">+</span><span class="n">E3</span><span class="p">)</span> <span class="o">==</span> <span class="p">(</span><span class="n">E1</span><span class="o">+</span><span class="n">E2</span><span class="p">)</span><span class="o">+</span><span class="n">E3</span>
</pre></div>
</div>
<p>due to the nature of element-wise set operations. Composition, however,
is <em>not</em> necessarily commutative:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>E1*E2 ?= E2*E1
</pre></div>
</div>
<p>but it is distributive <a class="footnote-reference" href="#id8" id="id4">[4]</a>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">E1</span><span class="o">*</span><span class="p">(</span><span class="n">E1</span><span class="o">+</span><span class="n">E3</span><span class="p">)</span> <span class="o">==</span> <span class="n">E1</span><span class="o">*</span><span class="p">(</span><span class="n">E2</span><span class="o">+</span><span class="n">E2</span><span class="p">)</span>
</pre></div>
</div>
<p>as functions act element-wise on the keys.</p>
<div class="section" id="signed-encyclopedia">
<h2>Signed Encyclopedia<a class="headerlink" href="#signed-encyclopedia" title="Permalink to this headline">¶</a></h2>
<p>An Encyclopedia is not a proper ring without the existence of a negative
signed Encyclopedia:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">-</span><span class="n">E</span>
</pre></div>
</div>
<p>Note that we specifically refer to the
<a class="reference external" href="https://docs.python.org/3/reference/expressions.html">unary</a>
operation and not the binary set difference. Note too that this is a
little conceptually unusual, as a negative encyclopedia behaves a bit
like <a class="reference external" href="https://en.wikipedia.org/wiki/Antimatter">antimatter</a>, able to
negate a collection of key-values, but not necessarily to serve as a
meaningful mapping in our eminently practical universe. If the unary
negative sign is supported by a derived Encyclopedia, the class will be
known as a <strong>Signed Encyclopedia</strong>, and the following features will also
be supported:</p>
<table border="1" class="docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Identity</th>
<th class="head">Field</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Null[x]</td>
<td>existence of Null operator
producing None or Error depending
on implementation</td>
</tr>
<tr class="row-odd"><td>abs(E)</td>
<td>invert “sign” of Encyclopedia</td>
</tr>
<tr class="row-even"><td>E + abs(E)</td>
<td>retain only positive (“real”)
components of the Encyclopedia</td>
</tr>
<tr class="row-odd"><td>abs(E1-E2) + abs(E2-E1)</td>
<td><em>symmetric difference</em></td>
</tr>
<tr class="row-even"><td>(Null + E)[x] == E[x]</td>
<td><em>additive identity</em></td>
</tr>
<tr class="row-odd"><td>(E - E)[x] == Null[x]</td>
<td><em>additive inverse</em></td>
</tr>
</tbody>
</table>
<p>One important distinction between a Signed Encyclopedia and an Unsigned
Encyclopedia is the implementation of the intersection. For an Unsigned
Encyclopedia, we may simply remove the elements of <code class="docutils literal"><span class="pre">E1</span></code> which are not
in <code class="docutils literal"><span class="pre">E2</span></code>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">E1</span><span class="o">&amp;</span><span class="n">E2</span> <span class="o">==</span> <span class="n">E1</span><span class="o">-</span><span class="p">(</span><span class="n">E1</span><span class="o">-</span><span class="n">E2</span><span class="p">)</span>
</pre></div>
</div>
<p>For a Signed Encyclopedia however, this won’t work as <code class="docutils literal"><span class="pre">-E1</span></code> is another
Encyclopedia:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">E1</span><span class="o">-</span><span class="p">(</span><span class="n">E1</span><span class="o">-</span><span class="n">E2</span><span class="p">)</span> <span class="o">==</span> <span class="n">E1</span><span class="o">-</span><span class="n">E1</span><span class="o">+</span><span class="n">E2</span> <span class="o">==</span> <span class="n">E2</span>
</pre></div>
</div>
<p>Instead we must use the Signed Encyclopedia’s <em>abs</em> operator to remove
the negative elements first:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">E1</span><span class="o">&amp;</span><span class="n">E2</span> <span class="o">==</span> <span class="n">E1</span><span class="o">-</span><span class="nb">abs</span><span class="p">(</span><span class="n">E1</span><span class="o">-</span><span class="n">E2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="indexed-encyclopedia">
<h2>Indexed Encyclopedia<a class="headerlink" href="#indexed-encyclopedia" title="Permalink to this headline">¶</a></h2>
<p>When a multiplicative inverse:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">~</span><span class="n">E</span>
</pre></div>
</div>
<p>is available, the Encyclopedia is a
<a class="reference external" href="https://en.wikipedia.org/wiki/Field_(mathematics)">field</a> where:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">~</span><span class="n">E</span><span class="o">*</span><span class="n">E</span> <span class="o">==</span> <span class="o">~</span><span class="n">E</span><span class="o">*</span><span class="n">E</span> <span class="o">==</span> <span class="n">Identity</span>
</pre></div>
</div>
<p>that is,</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">(</span><span class="o">~</span><span class="n">E</span><span class="o">*</span><span class="n">E</span><span class="p">)[</span><span class="n">x</span><span class="p">]</span><span class="o">==</span><span class="n">x</span>
</pre></div>
</div>
<p>Finally, an <em>Indexed</em> Encyclopedia supports inversion, including the
following operators and identities:</p>
<table border="1" class="docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Notation</th>
<th class="head">Meaning</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Unity[x] == x</td>
<td>existence of <em>unity</em></td>
</tr>
<tr class="row-odd"><td>~E</td>
<td>swap domain and range of <em>E</em>
(<em>multiplicative inverse</em>)</td>
</tr>
<tr class="row-even"><td>(E*~E)[x] == (~E*E)[x] == x</td>
<td>Encyclopedia composed with its
inverse produces Unity</td>
</tr>
<tr class="row-odd"><td>(Unity * E)[x] == E[x]</td>
<td>Unity composed with an
Encyclopedia produces that
Encyclopedia</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="past-present-and-future">
<h1>Past, Present and Future<a class="headerlink" href="#past-present-and-future" title="Permalink to this headline">¶</a></h1>
<div class="section" id="past">
<h2>Past<a class="headerlink" href="#past" title="Permalink to this headline">¶</a></h2>
<p>As with many abstract types, the concept of Encyclopedia did not emerge
from the void ready to be forward instantiated, but rather resulted from
the backwards abstraction of specific, concrete implementations (not
surprisingly to anyone following along at this point): Relations and
Forests. These classes, in turn, were created to scratch particular
itches:</p>
<ul class="simple">
<li><strong>Relation</strong>: generalize the notion of a python dictionary to allow
for many-to-many relations and provide other conveniences such as
invertibility</li>
<li><strong>Forest</strong>: provide a tree syntax using standard mathematical
notation which can then be used to construct various hierarchical
data structures</li>
</ul>
<p>Syntax may not be everything, but it helps. A lot. As many data analysts
have found, being able to express something conveniently may determine
whether the analysis gets done <em>at all</em>. Indeed, much of the power of
scripting languages, including python, is the ability to express more
complex structures, since the foundational structures (e.g.&nbsp;lists, sets,
dictionaries) are so easy to describe.</p>
<p>Addressing Forests specifically, there are a number of different
hierarchical structures (e.g.&nbsp;YAML, XML, JSON) which are each
essentially trees, topologically, but are supported by different
packages and syntaxes. Moreover, with regard to content generation, they
sometimes lack the syntax for easily building more complex trees from
simpler ones, such as, mentioned above, combining two trees either as a
simple union or recursively, with one tree nested inside the other.</p>
</div>
<div class="section" id="present">
<h2>Present<a class="headerlink" href="#present" title="Permalink to this headline">¶</a></h2>
<p>The Encyclopedia specification, and implementations for:</p>
<ul class="simple">
<li>Relation</li>
<li>Forest</li>
<li>Arboretum</li>
<li>Dictionary (with a capital “D”)</li>
</ul>
<p>as well as an:</p>
<ul class="simple">
<li>Encyclopedic wrapper for XML</li>
</ul>
<p>Can be obtained at</p>
<ul class="simple">
<li>Github: <a class="reference external" href="https://github.com/scott-howard-james/encyclopedia">https://github.com/scott-howard-james/encyclopedia</a></li>
<li>PyPi: <a class="reference external" href="https://pypi.python.org/pypi/encyclopedia/0.25">https://pypi.python.org/pypi/encyclopedia/0.25</a> (or
alternatively just <code class="docutils literal"><span class="pre">pip</span> <span class="pre">encyclopedia</span></code>)</li>
</ul>
<p>Note that Encyclopedia has no dependencies outside of the standard
python distribution.</p>
</div>
<div class="section" id="future">
<h2>Future<a class="headerlink" href="#future" title="Permalink to this headline">¶</a></h2>
<p>In the near-future, wrappers will be included for YAML and JSON.
Additionally, support for other graph types will be added.</p>
<table class="docutils footnote" frame="void" id="id5" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[1]</a></td><td>all relations are “invertible” in the sense that domain/range may be
swapped; however, relations composed with their inverse will only
create Unity properly when the cardinality is 1:M or 1:1</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id6" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id2">[2]</a></td><td>when <em>f</em> is a scalar, assume function is multiplicative</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id7" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id3">[3]</a></td><td>what encyclopedia composition actually <em>means</em> will depend on the
specific encyclopedia implementation, but the <em>intention</em> of
composition is to act element-wise, that is independently of other
elements in the encyclopedia</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id8" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id4">[4]</a></td><td>what encyclopedia composition actually <em>means</em> will depend on the
specific encyclopedia implementation, but the <em>intention</em> of
composition is to act element-wise, that is independently of other
elements in the encyclopedia</td></tr>
</tbody>
</table>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="api.html" class="btn btn-neutral float-right" title="Abstract Encyclopedias" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral" title="Encyclopedia" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Scott Howard James.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'.25',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>